<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN"
   "http://www.w3.org/TR/REC-html40/frameset.dtd">
<html>
  <head>
    <link href="screen.css" rel="StyleSheet" media="screen">
    <link href="print.css" rel="StyleSheet" media="print">
    <title>The deal.II FAQ</title>
    <meta name="author" content="the deal.II authors <authors@dealii.org>">
    <meta name="keywords" content="deal.II">
  </head>
<body>

  <h1>The <acronym>deal.II</acronym> FAQ</h1>

  <p>
  This is a short list of questions that are asked frequently on the
  <acronym>deal.II</acronym> mailing list, so we collect short answers
  for them here. If you have a question that is not answered here, it
  is probably a good idea to first browse through the 
  <a href="http://www.dealii.org/mail/maillist.html"
  target="body">mailing list archives</a> first, as there many
  questions have already been discussed.
  </p>

  <ol>
  <li> <a href="#compiler">How do I change the compiler?</a>
  <li> <a href="#gcc296">I cannot compile <acronym>deal.II</acronym>
       with gcc version 2.96!</a>
  <li> <a href="#windows">Can I use <acronym>deal.II</acronym> on a
       Windows platform?</a>       
  <li> <a href="#perl-bug">I can't build the online documentation under Cygwin!</a>
  <li> <a href="#triangles">Can I use/implement triangles/tetrahedra
       in <acronym>deal.II</acronym>?</a> 
  <li> <a href="#problem-types">Can I solve problem XXX with
       <acronym>deal.II</acronym>?</a>
  <li> <a href="#problem-howto">How do I solve problem XXX with
       <acronym>deal.II</acronym>?</a>
  <li> <a href="#contribute">I want to contribute to the development
       of <acronym>deal.II</acronym>!</a>
  </ol>


  <a name="compiler"></a>
  <h3>How do I change the compiler?</h3>

  <p>
  <acronym>deal.II</acronym> can be compiled by a number of compilers
  without problems (see the section <a
  href="readme.html#prerequisites">prerequisites</a> in the readme
  file). If the ./configure script does not pick the right one,
  selecting another is simple, and described in an
  <a href="http:readme.html#choose-compiler">according
  section</a> in the <a href="http:readme.html">readme file</a>.
  </p>


  <a name="gcc296"></a>
  <h3>I cannot compile <acronym>deal.II</acronym>
  with gcc version 2.96!</h3>

  <p>
  You can't, this version of gcc simply does not work with
  <acronym>deal.II</acronym>, or at least did not. Post-3.4 versions of 
  <acronym>deal.II</acronym> will contain fixes for this problem, but versions
  up to and including 3.4 cannot be compiled with gcc 2.96.
  </p>

  <p>
  gcc 2.96 was created by
  RedHat from a snapshot somewhere between 2.95 and 3.0; it contained a large
  number of compiler bugs, which have partly been fixed, but too many remain as
  that we were able to make the library work with this compiler until we could
  get hold of such a system (initially, the main development of
  <acronym>deal.II</acronym> was done in Germany, which is SuSE country, not
  Red Hat). Also note that version 2.96 is not an officially 
  released version of gcc. Simply use either gcc 2.95 or 3.X. Also note that we
  have reports that gcc 2.96 may miscompile parts of the library, see
  <a href="http://www.dealii.org/mail/msg00837.html" target="body">this
  message</a>.
  </p>

  <p>
  RedHat provides updates to gcc version 3.0 or later, and downgrades
  to gcc version 2.95, all of which work with <acronym>deal.II</acronym>. Red
  Hat releases starting with version 8.0 will also be based on a different
  compiler, so the problem does not exist there any more.
  </p>
  
  <p>
  However, there are more problems lurking around the corner: even though we
  have included patches so that the library can be compiled, presently not all
  of the examples can. There is at least one problem in the compiler which we
  could not work around (I reported this to the gcc bug tracking system as
  c++/616 in October 2000, and it was fixed a few weeks later, but apparently
  did not make it to Red Hat's version). The problem manifests itself in
  situations like this:
  <code>
    <pre>
      template <int dim> struct Function {};
      template <int dim> struct RHS : Function<dim> { RHS() {}; };

      template <int dim> void f () {
        const RHS<dim> rhs;
      };
      template void f<1> ();
    </pre>
  </code>
  Here, the compiler reports
  <code>
    <pre>
      x.cc: In function `void f () [with int dim = 1]':
      x.cc:7:   instantiated from here
      x.cc:5: uninitialized const `rhs'
    </pre>
  </code>
  which is clearly bogus since <code>rhs</code> uses the default constructor of
  the class. Unfortunately, there is no way of working around the bug short of
  removing the constness of the variable. We did not want to do this, since
  this changes the semantics of the programs and is promoting bad style which
  we do not want to do in example programs. Furthermore, since gcc 2.96 is
  being phased out at the time of this writing, there is no point in doing this
  any more. Therefore, we advise you to remove the constness of these variables
  if you are forced to use this compiler and want to use the example programs,
  and want to test the example programs or use them as the basis for your own
  project. A better way is to up- or downgrade your compiler, if this is
  possible for your machine.
  </p>


  <a name="windows">
  <h3>Can I use <acronym>deal.II</acronym> on a
  Windows platform?</a></h3>

  <p>
  First the good news: yes, you can. Still, this answer needs to be
  more specific. The configuration program for
  <acronym>deal.II</acronym> expects a Unix-like environment. This is
  provided by the <a href="http://www.cygwin.com/">cygwin
  compiler</a>. People reported successful compilation with the
  following combination of tools:
  </p>
  <ul>
  <li> cygwin 1.3.9-1
  <li> make 3.79.1-5
  </ul>

  <p>
  Earlier versions of "make" caused trouble, still you should try the latest
  versions first. A look into the <a
  href="http://www.dealii.org/mail/maillist.html">mail
  archive</a> might be advisable in case of difficulties.
  </p>

  <p>
  Also note that on some installations of Cygwin, one of the system
  header files used the proprocessor to define <code>quad</code> to
  <code>quad_t</code>. Since <acronym>deal.II</acronym> uses the name
  <code>quad</code> as a function name, the name is sometimes
  replaced, sometimes not, depending on the order of include files and
  whether the respective system header was included at all. This leads
  to compilation errors.
  </p>

  <p>
  Since the offending preprocessor define is only active when
  <code>_POSIX_SOURCE</code> is not set, <acronym>deal.II</acronym>
  releases <em>after</em> version 3.4 set this flag, to avoid the
  problem, but releases up to and including version 3.4 may not
  work. For more information, refer to the 
  <a href="http://www.dealii.org/mail/msg00773.html">mailing list
  thread on this subject</a>, and follow-up messages.
  </p>


  <h4>Other Windows compilers</h4>
  <p>
  As long as a compiler is sufficiently standards conforming, and has
  a command line interface, it may be used to compile the library. In
  order to do so, the automatic configuration needs to recognize the
  compiler, and be able to specify some flags, for example for
  optimization. Presently, except for gcc and Intel C++, we do not
  support any of the genuine Windows compilers, such as Visual C++, or
  Borland C++. However, if you want to add support for them, just look
  at how this is done in <code>aclocal.m4</code> for the existing
  compilers, and add support for the one you prefer. You may also want
  to get into contact with us on the matter.
  </p>


  <a name="perl-bug">
  <h3>I can't build the online documentation under Cygwin!</a></h3>

  <p>
  The Perl utility from Cygwin distribution (up to version 5.6.1-2)
  contains a bug that causes a "permission denied" error with in-place
  editing (using the <code>-pi</code> switch). This bug prevents
  building the online documentation from the source files. To solve
  this problem there are two workarounds as described in an article on
  the <a
  href="http://sources.redhat.com/ml/cygwin-apps/2001-11/msg00736.html">Cygnus
  Solutions mailing list</a>.  First, one should specify an 
  explicit extension in all makefiles, i.e.  replace all
  <code>-npi</code> or <code>-pi</code> options with
  <code>-npi~</code> or <code>-pi~</code> for example. Second, apply a
  patch to the source code of the perl utility and recompile.
  </p>



  <a name="triangles"></a>
  <h3>Can I use/implement triangles/tetrahedra in
  <acronym>deal.II</acronym>?</h3>

  <p>
  No, you cannot do either. The basic data structures are too much
  tailored to quadrilaterals and hexahedra. Implementing other cells
  amounts to re-implementing nearly all grid and DoF classes from
  scratch. On the other hand, the restriction to quadrilaterals and
  hexahedra avoids a large number of run-time computations and makes
  the library as fast as it is.
  </p>



  <a name="problem-types"></a>
  <h3>Can I solve problem XXX with <acronym>deal.II</acronym>?</h3>

  <p>
  The simple answer is: if it can be written as a PDE, then this is
  possible. The more complicated answer is: <acronym>deal.II</acronym>
  is not a problem-solving environment, it is a toolbox that supports
  you in solving a PDE by the method of finite elements. You will have
  to implement assembling matrices and right hand side vectors
  yourself, as well as nonlinear outer iterations, etc. However, you
  will not need to care about programming a triangulation class that
  can handle locally refined grids in one, two, and three dimensions,
  linear algebra classes, linear solvers, different finite element
  classes, etc.
  </p>

  <p>
  To give only a very brief overview of what is possible, here is a
  list of the nontrivial problems that were treated by the programs
  that only the main authors wrote to date:
  <ul>
  <li> Time-dependent acoustic and elastic wave equation, including
       nonlocal absorbing boundary conditions;
  <li> Stokes flow discretized with the discontinuous Galerkin finite
       element method;
  <li> General hyperbolic problems including Euler flow, using the
       discontinuous Galerkin finite element method;
  <li> Distributed parameter estimation problems.
  </ul>
  </p>

  <p>
  To illustrate the complexity of the programs mentioned above we note
  that most of them include adaptive mesh refinement tailored to the
  efficient computation of specific quantities of physical interest
  and error estimation measured in terms of these quantities. This
  includes the solution of a so-called dual problems, that means
  e.g. for the wave equation the solution of a wave equation solved
  backward in time.
  </p>

  <p>
  Problems other users of <acronym>deal.II</acronym> have solved include:
  <ul>
  <li> Elastoplasticity;
  <li> Porous media flow;
  <li> Time dependent large deformation problems for metal forming;
  <li> Eulerian coordinates problems in biomechanical modeling.
  </ul>
  <p>
  Probably, many other problem types are solved by the many users
  which we do not know of directly. If someone would like to have his
  project added to this page, just contact us.
  </p>


  <a name="problem-howto"></a>
  <h3>How do I solve problem XXX
  with <acronym>deal.II</acronym>?</h3>

  <p>
  There is no general rule on how to attack implementing a program to
  solve your particular problem. However, the way most often taken is
  to look at one of the 
  <a href="tutorial/chapter-2.step-by-step/index.html"
  target="_top">example programs from the tutorial</a> and modify it
  such that it solves your equation. This way, a number of problems
  can be solved at relatively small effort.
  </p>

  <p>
  If your class of problem does not allow taking and modifying one of
  the examples programs, then you have to write something up
  yourself. The example programs may nevertheless be a good guide on
  how to program with <acronym>deal.II</acronym>.
  </p>


  <a name="contribute"></a>
  <h3>I want to contribute to the development
      of <acronym>deal.II</acronym>!</h3>

  <p>
  <acronym>deal.II</acronym> is Open Source -- this not only implies
  that you as everyone else has access to the source codes, it also
  implies a certain development model: whoever would like to
  contribute to the further development is invited to do so!
  </p>

  <p>
  This model follows a small number of simple rules. The first and
  basic one is that if you have something that might be of interest to
  others as well, you are invited to send it to the list for possible
  inclusion into the library and use by others as well. Such additions
  useful to others are, for example: 
  </p>
  <ul>
  <li> new backends for output in a new graphical format;
  <li> input filters for some kind of data;
  <li> tool classes that do something that might be interesting to use
       in other programs as well.
  </ul>
  <p>
  In general, once you start to use something you wrote for one
  project in a second project, this is something that would make up a
  good addition to the entire library!
  </p>

  <p>
  If you consider providing some code for inclusing into the library,
  these are the simple rules of gaining reputation in the Open Source
  community: 
  <ul>
  <li> your reputation grows with the number and complexity of your
       contributions;
  <li> your reputation with the maintainers of the library also grows
       with the degree of conformance of your proposed additions with
       the administrative rules stated below;
  <li> originators of code are credited full authorship.
  </ul>
  </p>

  <p>
  In order to allow that a library remains a consistent piece of
  software, there are a number of administrative rules:
  <ul>
  <li> there are a number of maintainers that decide what goes into
       the library;
  <li> maintainers are benevolent, i.e. in general they want your
       addition to become part of the library;
  <li> however, they have to evaluate additions with respect to some
       criteria, among which are
       <ul>
       <li> value for others;
       <li> whether it fits into the general framework (meaning that
            if your contribution requires the installation of some
            obscure other library that people do not usually have, then
            that must be discussed; alternatively, a way must be provided
            to disable your contribution on machines that do not have this
            lib); 
       <li> completeness and amount of documentation;
       <li> existence and completeness of error checking through
            assertions.
       </ul>
  </ul>
  </p>

  <p>
  However, again: the basic rule is that if you think your addition is
  interesting to others, there most probably is a way to get it into
  the library!
  </p>

</body>
</html>
